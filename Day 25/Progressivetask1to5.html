<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Product task</title>

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
</head>
<body class="bg-light">
  <main class="container py-5">
    <h2 class="mb-3">Product Showcase</h2>
    <p class="text-muted">
      Products created using JavaScript classes, objects, methods, inheritance, and array methods (forEach, filter, reduce).
    </p>

    <div id="product-list" class="row g-4 mb-5"></div>


    <section>
      <h3 class="mb-3">Store Items (Array Methods)</h3>

      <div class="row">
        <div class="col-md-6">
          <h5>All items</h5>
          <ul id="all-items" class="list-group mb-3"></ul>
        </div>

        <div class="col-md-6">
          <h5>Items with price &lt; ₹500</h5>
          <ul id="filtered-items" class="list-group mb-3"></ul>

          <h5>Total price of all items</h5>
          <p id="total-price" class="fw-semibold text-primary"></p>
        </div>
      </div>
    </section>
  </main>

  <script>
   
    const productData = [
      {
        name: "Pro Landing Template",
        price: 1499,
        description: "High-converting landing page for startups."
      },
      {
        name: "Ecommerce UI Kit",
        price: 1999,
        description: "Product cards, filters, and checkout screens."
      },
      {
        name: "Analytics Dashboard",
        price: 2499,
        description: "Dashboard with cards, charts, and KPIs."
      }
    ];

    class Product {
      constructor(name, price, description) {
        this.name = name;
        this.price = price;
        this.description = description;
      }

      discountedPrice(discountPercent = 10) {
        const discountAmount = (this.price * discountPercent) / 100;
        return this.price - discountAmount;
      }

      displayProduct() {
        console.log(`${this.name} - ₹${this.price}`);
        console.log(this.description);
        console.log(`Discounted (10%): ₹${this.discountedPrice(10)}`);
        console.log("----");
      }
    }

    class DigitalProduct extends Product {
      constructor(name, price, description, fileSizeMB, downloadLink) {
        super(name, price, description);
        this.fileSizeMB = fileSizeMB;
        this.downloadLink = downloadLink;
      }

      displayProduct() {
        console.log(`${this.name} (Digital) - ₹${this.price}`);
        console.log(this.description);
        console.log(`Size: ${this.fileSizeMB} MB`);
        console.log(`Download: ${this.downloadLink}`);
        console.log(`Discounted (10%): ₹${this.discountedPrice(10)}`);
        console.log("----");
      }

      getDownloadInfo() {
        return `Download ${this.name} (${this.fileSizeMB} MB) from ${this.downloadLink}`;
      }
    }


    const products = productData.map(
      item => new Product(item.name, item.price, item.description)
    );

    const digitalLanding = new DigitalProduct(
      "Pro Landing Template (Digital)",
      1499,
      "Bootstrap landing page with sections ready to use.",
      12,
      "https://example.com/download/landing"
    );
    products.push(digitalLanding);

    
    products.forEach(p => p.displayProduct());
    console.log(digitalLanding.getDownloadInfo());

   
    const productListEl = document.getElementById("product-list");

    products.forEach(product => {
      const col = document.createElement("div");
      col.className = "col-md-4";

      const isDigital = product instanceof DigitalProduct;

      col.innerHTML = `
        <div class="card shadow-sm h-100">
          <div class="card-body">
            <h5 class="card-title">
              ${product.name}
              ${isDigital ? '<span class="badge bg-info ms-1">Digital</span>' : ""}
            </h5>
            <p class="card-text mb-1">${product.description}</p>
            ${
              isDigital
                ? `
                  <p class="card-text mb-1 text-muted small">
                    File size: ${product.fileSizeMB} MB
                  </p>
                `
                : ""
            }
            <p class="card-text fw-semibold mb-1">Price: ₹${product.price}</p>
            <p class="card-text text-success small mb-0">
              Discounted (10%): ₹${product.discountedPrice(10).toFixed(0)}
            </p>
            ${
              isDigital
                ? `<a href="${product.downloadLink}" class="btn btn-sm btn-primary mt-2">
                     Download
                   </a>`
                : ""
            }
          </div>
        </div>
      `;

      productListEl.appendChild(col);
    });

   
    const storeItems = [
      { name: "Pen", price: 30 },
      { name: "Notebook", price: 120 },
      { name: "USB Cable", price: 250 },
      { name: "Mouse Pad", price: 350 },
      { name: "Headphones", price: 999 },
      { name: "Laptop Stand", price: 1299 }
    ];

    const allItemsEl = document.getElementById("all-items");
    const filteredItemsEl = document.getElementById("filtered-items");
    const totalPriceEl = document.getElementById("total-price");

    
    function renderList(array, ulElement) {
      ulElement.innerHTML = "";
      array.forEach(item => {
        const li = document.createElement("li");
        li.className = "list-group-item d-flex justify-content-between align-items-center";
        li.innerHTML = `
          <span>${item.name}</span>
          <span class="badge bg-secondary rounded-pill">₹${item.price}</span>
        `;
        ulElement.appendChild(li);
      });
    }

  
    renderList(storeItems, allItemsEl);

    
    const cheapItems = storeItems.filter(item => item.price < 500);
    renderList(cheapItems, filteredItemsEl);

    
    const totalPrice = storeItems.reduce((sum, item) => sum + item.price, 0);
    totalPriceEl.textContent = `Total price of all items: ₹${totalPrice}`;
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
